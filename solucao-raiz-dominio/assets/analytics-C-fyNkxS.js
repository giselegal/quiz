const e={},t=function(t,n,o){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),o=(null==t?void 0:t.nonce)||(null==t?void 0:t.getAttribute("nonce"));i=Promise.allSettled(n.map((t=>{if((t=function(e){return"/"+e}(t))in e)return;e[t]=!0;const n=t.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${i}`))return;const a=document.createElement("link");return a.rel=n?"stylesheet":"modulepreload",n||(a.as="script"),a.crossOrigin="",a.href=t,o&&a.setAttribute("nonce",o),document.head.appendChild(a),n?new Promise(((e,n)=>{a.addEventListener("load",e),a.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${t}`))))})):void 0})))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return i.then((e=>{for(const t of e||[])"rejected"===t.status&&a(t.reason);return t().catch(a)}))},n=()=>{const e=new URLSearchParams(window.location.search),t={source:e.get("utm_source")||void 0,medium:e.get("utm_medium")||void 0,campaign:e.get("utm_campaign")||void 0,term:e.get("utm_term")||void 0,content:e.get("utm_content")||void 0,fbclid:e.get("fbclid")||void 0,gclid:e.get("gclid")||void 0};return Object.values(t).some((e=>void 0!==e))&&localStorage.setItem("utm_params",JSON.stringify(t)),t},o=()=>{"undefined"!=typeof window&&t((()=>Promise.resolve().then((()=>p))),void 0).then((e=>{}))},i=(e,t)=>{"undefined"!=typeof window&&window.fbq&&window.fbq("trackCustom","QuizStart",{name:e,email:t})},a=e=>{"undefined"!=typeof window&&window.fbq&&window.fbq("track","Lead",{email:e})},r=(e,t,n,o)=>{if(window.fbq){const i={question_id:e,selected_options:t.join(", "),current_question_index:n,total_questions:o};window.fbq("trackCustom","QuizAnswer",i)}window.gtag&&window.gtag("event","quiz_answer",{event_category:"quiz",question_id:e,selected_options:t.join(", "),current_question_index:n,total_questions:o})},c=()=>{const e=localStorage.getItem("quiz_start_time"),t=Date.now(),n=e?(t-parseInt(e,10))/1e3:0;if(window.fbq){const e={quiz_duration:n};window.fbq("trackCustom","QuizComplete",e)}window.gtag&&window.gtag("event","quiz_complete",{event_category:"quiz",quiz_duration:n})},s=e=>{if(window.fbq){const t={style_category:e};window.fbq("trackCustom","ResultView",t)}window.gtag&&window.gtag("event","result_view",{event_category:"quiz",event_label:e})},d=(e,t,n,o)=>{if(window.fbq){const i={button_id:e||"unknown",button_text:t||"unknown",button_location:n||"unknown",action_type:o||"click"};window.fbq("trackCustom","ButtonClick",i)}window.gtag&&window.gtag("event","button_click",{event_category:"interaction",event_label:t||e,button_location:n})},l=(e,t)=>{if(window.fbq){const n={value:e,currency:"BRL",content_name:t||"Guia de Estilo",content_type:"product"};window.fbq("track","Purchase",n)}window.gtag&&window.gtag("event","purchase",{transaction_id:"T_"+Date.now(),value:e,currency:"BRL",items:[{name:t||"Guia de Estilo",price:e}]})},u=()=>{try{const e=localStorage.getItem("analytics_events");return e?JSON.parse(e):[]}catch(e){return[]}},w=()=>{try{return localStorage.removeItem("analytics_events"),localStorage.removeItem("fb_pixel_event_log"),localStorage.removeItem("analytics_metrics_cache"),!0}catch(e){return!1}},f=()=>!!window.fbq&&(window.fbq("trackCustom","TestEvent",{test_value:"test"}),!0),m=Object.freeze(Object.defineProperty({__proto__:null,captureUTMParameters:n,clearAnalyticsData:w,getAnalyticsEvents:u,initFacebookPixel:o,testFacebookPixel:f,trackButtonClick:d,trackLeadGeneration:a,trackQuizAnswer:r,trackQuizComplete:c,trackQuizStart:i,trackResultView:s,trackSaleConversion:l},Symbol.toStringTag,{value:"Module"})),_=()=>{if("undefined"!=typeof window){const r=window;r.fbq||(e=window,t=document,n="script",e.fbq||(o=e.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},e._fbq||(e._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(i=t.createElement(n)).async=!0,i.src="https://connect.facebook.net/en_US/fbevents.js",(a=t.getElementsByTagName(n)[0])&&a.parentNode&&a.parentNode.insertBefore(i,a)),r.fbq&&r.fbq("init","YOUR_PIXEL_ID"),r.fbq&&r.fbq("track","PageView"))}var e,t,n,o,i,a},g=_,b=(e,t)=>{"undefined"!=typeof window&&window.fbq&&window.fbq("track",e,t)},v=b,p=Object.freeze(Object.defineProperty({__proto__:null,initFacebookPixel:_,loadFacebookPixel:g,trackFacebookPixelCustomEvent:(e,t)=>{"undefined"!=typeof window&&window.fbq&&window.fbq("trackCustom",e,t)},trackFacebookPixelEvent:b,trackPixelEvent:v},Symbol.toStringTag,{value:"Module"}));export{t as _,a,d as b,n as c,l as d,r as e,c as f,s as g,u as h,o as i,f as j,w as k,g as l,v as m,m as n,i as t};
